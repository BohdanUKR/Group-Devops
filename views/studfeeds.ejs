<%- include partial/head.ejs %>

<%- include partial/main_nav.ejs %>


<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />

    <link rel='stylesheet' href='/stylesheets/style.css' />

    <!--For feedbacks table style-->
    <link rel='stylesheet' href='/stylesheets/studfeeds.css' />

    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<!------ Include the above in your HEAD tag ---------->

<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<!------ Include the above in your HEAD tag ---------->


<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  </head>
  <body>
    <h1><%= title %></h1>
    
<!--//////////////////////////////////////////////////// Retrieving Students Feedbacks-->
  <div class="container-fluid">
     <table class="table table-hover rounded-circle ">
             <tr class="d-flex">
                 <th class="text-center col-2">First Name</th>
                 <th class="text-center col-2">Last Name</th>
                 <th class="text-center col-3">Feedback</th>
                 <th class="text-center col-2">Stars</th>
                 <th class="text-center col-3">Comments</th>
             </tr>
             <% for (let count = 0; count < Feedbacks.length; count++) { %>
              <tr class="d-flex">
                 <td class="text-center col-2"><%= Feedbacks[count].FirstName %></td>
                 <td class="text-center col-2"><%= Feedbacks[count].LastName %></td>
                 <td class="text-center col-3"><%= Feedbacks[count].Feedback %></td>
                 <td class="text-center col-2" span id=stars><%= Feedbacks[count].Stars %></td>
                 <td class="text-center col-3"><%= Feedbacks[count].Comments %></td>
              </tr>
          <% } %>
        </table>
  </div>
<!--////////////////////////////////////////////////////-->


<!--get stars should get info from db-->


<script>
  document.getElementById("stars").innerHTML = getStars(3.6);

function getStars(rating) {

  // Round to nearest half
  rating = Math.round(rating * 2) / 2;
  let output = [];

  // Append all the filled whole stars
  for (var i = rating; i >= 1; i--)
    output.push('<i class="fa fa-star" aria-hidden="true" style="color: gold;"></i>&nbsp;');

  // If there is a half a star, append it
  if (i == .5) output.push('<i class="fa fa-star-half-o" aria-hidden="true" style="color: gold;"></i>&nbsp;');

  // Fill the empty stars
  for (let i = (5 - rating); i >= 1; i--)
    output.push('<i class="fa fa-star-o" aria-hidden="true" style="color: gold;"></i>&nbsp;');

  return output.join('');

}
</script>

<style>

.container-fluid{
  background-color: #fff;
  border-radius: 25px;
  padding-left: 75px;
  padding-bottom: 15px;
}
.d-flex{
  border-radius: 25px;
  overflow: hidden;
  margin-top: 40px;
}
h1{
  color: white;
  text-align: center;
  padding-bottom: 20px;
}
.table{
    background-color: white;
    
}

th{
color:black;
background-color:darkgrey;

}

td{
color:black
}
</style>

  </body>
</html>

